doctype 5
html(lang="en", manifest="/offline.appcache")
	head
		title #{name} - Protobowl 
		meta(charset="utf8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(name="keywords", content="protobowl,quizbowl,application,reader,academic,multiplayer,practice")
		meta(name="description", "A real time multiplayer quizbowl application")

		link(rel='stylesheet', href='/protobowl.css')

	body
		div.navbar.navbar-top
			div.navbar-inner
				div.container
					a.show-sidebar(href="#")
						i.icon-circle-arrow-right
					a.brand(href="/")
						strong Proto
						| Bowl 
						em.motto.hidden-phone(style="font-size: small")
							| doing one thing and doing it acceptably well
						
					div.pull-right
						a.btn.btn-primary.new-room(href="/new") New Room
						
					ul.nav.pull-right.hidden-phone
						li
							a(href="#", data-toggle="modal", href="#about") About
		
		div.modal.hide.fade#about
			div.modal-header
				button.close(type="button", data-dismiss="modal") ×
				h3 About
			div.modal-body
				p
					| ProtoBowl is a real time multiplayer quizbowl application. It was launched
					| in late August 2012.
				p				
					| This was concieved some time around May of 2012, but real development didn't 
					| start until July. The name actually comes as a contraction or
					| portmanteau of "Prototype" and "QuizBowl".
				p 
					| I implore you to contact <a href="mailto:info@protobowl.com">info@protobowl.com</a> with any and all questions, 
					| comments or concerns, preferably those which relate to Protobowl.
			div.modal-footer
				a.btn.btn-primary(href="#", data-dismiss="modal") Close
		

		div#team_modal.modal.hide.fade(tabindex="-1",role="dialog",aria-hidden="true")
			div.modal-header
				button.close(type="button", data-dismiss="modal", aria-hidden="true") ×
				h3 Create a Team
			div.modal-body
				form.form-horizontal
					div.control-group
						label.control-label(for="team_input") Team Name
						div.controls
							input#team_input(type='text', value='', placeholder='Team Name').extra-large

			div.modal-footer
				a.btn(href="#", data-dismiss="modal") Cancel
				button.btn.btn-primary#make_button Create Team

		div.container
			div.row
				div.span9.mainview
					div.row(style="margin-bottom: 10px")
						div.span9
							div.form-horizontal
								div.actionbar
									button.btn.chatbtn(title="Shortcut: / key", rel='tooltip', disabled)
										i.icon-comment
										| Chat
									| 
									button.btn.btn-info.skipbtn(title="Shortcut: s key", rel='tooltip', disabled)
										| Skip
									| 
									button.btn.btn-info.nextbtn(title="Shortcut: n key", rel='tooltip', disabled, style="display:none")
										| Next
									| 
									button.btn.btn-warning.pausebtn(title="Shortcut: p key", rel='tooltip', disabled) 
										span.pause
											i.icon-pause.visible-phone(style="margin-right:0")
											span.hidden-phone Pause
										span.resume(style="display:none")
											i.icon-play.visible-phone(style="margin-right:0")
											span.hidden-phone Resume
									| 
									button.btn.pull-right.btn-danger.buzzbtn(title="Shortcut: space key", rel='tooltip', disabled)
										i.icon-bell.icon-white
										| Buzz
								form.expando.chat_form(style="display:none")
									div.input-prepend
										span.add-on
											i.icon-comment
											| Chat
										input.chat_input(type='text', placeholder='chat message')
								form.expando.guess_form(style="display:none")
									div.input-prepend
										span.add-on
											i.icon-pencil
											| Guess
										input.guess_input(type='text', placeholder='answer')	
								form.expando.prompt_form(style="display:none")
									div.input-prepend
										span.add-on
											i.icon-question-sign
											| Prompt
										input.prompt_input(type='text', placeholder='prompt')	

					div#update(style="display:none")
						div.well
							a.btn.btn-primary.pull-right(href="") Reload
							| A <strong>new version</strong> of this application has been downloaded. Please reload the application now.
					
					div#history
						div.bundle.active
							div.sticky
							div.annotations

					div#slow.well(style="display: none")
						p
							| It looks like Protobowl is taking a while to connect to the server. 
							| This might not mean anything more than a slow connection, or it could
							| be a sign of several possible issues. You could <a href="#" onclick="offline_startup();return false">enter offline mode</a>
							| which will start Protobowl as if it did not have a connection to the server at all, but that 
							| has the obvious drawback of being offline and only being able to access a limited pool of questions.

						p
							| If you wait a little bit, Protobowl will keep on trying to connect using different
							| transports until it finds something that works.

					noscript
						h4 Please Enable Javascript
						| Protobowl is built to use many modern browser features which rely on the presence of a powerful 
						| Javascript engine. This application uses Javascript and WebSockets to keep the client and the 
						| server synchronized in order to attain a better experience. 

				div.span3.sidebar
					div.span3.thumbnail.timer-widget
						h5 
							i.icon-time
							| Timer 
							span.label.label-warning.pause(style="display:none") Paused
							span.label.label-important.buzz(style="display:none") Buzz
							//- span.label.label-info.finished(style="display:none") Finished
						div.timer.unselectable.disabled
							span.face 00:00
							span.fraction .0

						div.progress.progress-striped
							div.bar.primary-bar(style="width:0%")
							div.bar.aux-bar.bar-info(style="width:0%")


					div.span3.leaderboard(style="display:none; margin: 0")
						div.span3.thumbnail
							table.table
								thead
									tr
										th #
										th Name
										th Negs
								tbody

					div.span3.singleuser(style="display:none; margin: 0")
						div.span3.thumbnail
							h5
								i.icon-user
								| Single Player 
								span.label.label-important.offline(style="display:none") Offline
							div.stats
								table

					div.span3.foreveralone(style="margin: 0;display:none")
						div.span3.thumbnail
							h5
								i.icon-globe
								| Feeling Lonely?
							div(style="margin: 5px")	
								| Consider joining a public room such as <span class="roomlist"></span>


					div.span3.settings(style="display:none; margin: 0")
						div.span3.thumbnail
							h5
								i.icon-wrench
								| Settings

							div(style="text-align: center; padding-right: 4px; padding-left: 4px; padding-top: 4px")
								div.localsettings
									div.expando
										div.input-prepend
											span.generate-name.add-on(style="width:21px", title="Public name", rel='tooltip')
												i.icon-user
											input#username(type='text', value='', disabled)
									div.expando.set-team(style="display:none")
										div.input-prepend
											span.add-on(style="width:21px", title="Teams", rel='tooltip')
												i.icon-group
											select.input.teams
												option(value="") Individual
									div.expando.reset-score(style="display:none")
										div.input-prepend
											span.add-on(style="width:21px", title="Reset my score", rel='tooltip')
												i.icon-trash
											button.btn.input.score-reset Reset My Score 
									
									div.expando.relinquish-command(style="display:none")
										div.input-prepend
											span.add-on(style="width:21px", title="Relinquish dominance over this room", rel='tooltip')
												i.icon-eye-close
											button.btn.input.lose-command Relinquish Command

									label.checkbox
										input.movingwindow(type="checkbox")
										| Points earned in last 20 questions

									label.checkbox
										input.livechat(type="checkbox", checked)
										| Show chat messages while typing
									label.checkbox
										input.sounds(type="checkbox")
										| Play sound on successful buzz

									div.lockvote(style="display:none;white-space:nowrap;")
										label.checkbox
											input.lock(type="checkbox")
											| Lock settings <span class='electorate'>0/1 votes</span>
											i(style="padding-left: 5px").icon-unlock.status_icon
								hr
								div.globalsettings
									
									div.expando
										div.input-prepend
											span.add-on(style="width:21px", title="Read speed", rel='tooltip')
												i.icon-step-forward
											input.speed(type="range", value="200", min="60", max="600")
									div.expando
										div.input-prepend
											span.add-on(style="width:21px", title="Difficulty/Category", rel='tooltip')
												i.icon-briefcase
											select.padd-on.difficulties(style="width: 60px; border-right: 0")
											select.input.categories(style="border-left: 0")

									div.custom-category(style="display:none")

									label.checkbox
										input.showbonus(type="checkbox")
										| Show bonus questions
									label.checkbox
										input.multibuzz(type="checkbox", checked)
										| Allow players to buzz multiple times
									label.checkbox
										input.allowskip(type="checkbox", checked)
										| Allow players to skip questions
									
									div.request-access
										button.btn.btn-large <i class="icon-cog"></i>&nbsp; Request Access

					div.span3.thumbnail.show-keyboard
						h5 
							i.icon-info-sign
							| Directions
						ul
							li Press <code>p</code> to pause or resume
							li Press <code>space</code> to buzz
							li Press <code>j</code> or <code>n</code> to advance to next question (<code>s</code> to skip)
							li Press <code>/</code> or <code>a</code> to chat
							li Invite other people to this URL for multiplayer
							li This page works offline on browsers supporting HTML5

					div.span3.thumbnail.show-touch(style="display:none")
						h5 
							i.icon-info-sign
							| Directions
						ul
							li Buttons are fun to press
							li Click on entries in the leaderboard for more stats


					div.span3.thumbnail
						h5 
							i.icon-fire
							| Miscellaneous
						table.table.headless
							tbody
								tr
									th latency
									td#latency ?
								tr
									th sync offset
									td#sync_offset ? 
								tr
									th build date
									td#version ?
								tr
									td
										a#disconnect(href="#", onclick="sock.disconnect();return false", style="display: none") Disconnect
										a#reconnect(href="#", onclick="sock.socket.reconnect();return false", style="display: none") Reconnect
										a#reload(href="") Reload
									td#cachestatus 
		

			
		script(src="/socket.io/socket.io.js")
		script(type="text/javascript")
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-34434821-1']);
			_gaq.push(['_trackPageview']);

		script(src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js")
		// if(typeof jQuery == 'undefined') document.write(unescape("%3Cscript%20src%3D%22lib/jquery.min.js%22%3E%3C/script%3E"));
		
		script(src="/app.js")

		script(type="text/javascript")
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

